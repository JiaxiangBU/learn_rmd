---
title: "Home"
site: workflowr::wflow_site
output:
  workflowr::wflow_html:
    toc: false
---

```{r}
source(here::here("R/load.R"))
```


```{r}
wflow_toc <- function(analysis_dir = "analysis", docs_dir = "docs") {
  s <- wflow_status()
  s$status %>%
    tibble::rownames_to_column(var = 'rmd_path') %>%
    dplyr::filter(published) %>%

    dplyr::mutate(html_path = map_chr(rmd_path, workflowr:::to_html, outdir = s$docs),
                  html_path = map_chr(html_path, fs::path_file)) %>%

    dplyr::mutate(name = purrr::map(rmd_path,~ rmarkdown::yaml_front_matter(.)$title)) %>%
    filter(!map_lgl(name, is_null)) %>%
    tidyr::unnest() %>%

    dplyr::mutate(
      name = ifelse(is.na(name), html_path, name)
    ) %>%
    dplyr::mutate(
      link = glue::glue("1. [{name}]({html_path})")
    ) %>%
    .$link %>%
    clipr::write_clip()
  message('The table of content of your project is on the clipboard.')
}
```

```{r}
wflow_toc()
```

1. [About](about.html)
1. [result as-is](as-is.html)
1. [Home](index.html)
1. [License](license.html)
1. [参数化 RMarkdown 文档](param-rmd.html)
1. [在 Rmd 中使用 SQL](rmd-sql.html)
1. [iris: `r params$species`](rmd-template.html)
1. [内部链接功能](unsort.html)
1. [use-collapse](use-collapse.html)
1. [yaml.load 的使用心得](yaml_load.html)