<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>RMarkdown Cookbook</title>
  <meta name="description" content="RMarkdown Cookbook" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="RMarkdown Cookbook" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="RMarkdown Cookbook" />
  
  
  

<meta name="author" content="李家翔" />


<meta name="date" content="2020-02-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/viz-0.3/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.1/grViz.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path=""><a href="#fenced-code-blocks"><i class="fa fa-check"></i><b>1</b> Fenced code blocks</a></li>
<li class="chapter" data-level="2" data-path=""><a href="#display-chunk"><i class="fa fa-check"></i><b>2</b> display chunk</a></li>
<li class="chapter" data-level="3" data-path=""><a href="#github-star-badges"><i class="fa fa-check"></i><b>3</b> GitHub Star Badges</a></li>
<li class="chapter" data-level="4" data-path=""><a href="#内部链接功能"><i class="fa fa-check"></i><b>4</b> 内部链接功能</a></li>
<li class="chapter" data-level="5" data-path=""><a href="#html-tips"><i class="fa fa-check"></i><b>5</b> HTML Tips</a><ul>
<li class="chapter" data-level="5.1" data-path=""><a href="#skip-a-line"><i class="fa fa-check"></i><b>5.1</b> Skip a line</a></li>
<li class="chapter" data-level="5.2" data-path=""><a href="#center-an-image"><i class="fa fa-check"></i><b>5.2</b> Center an image</a></li>
<li class="chapter" data-level="5.3" data-path=""><a href="#white-space-around-img"><i class="fa fa-check"></i><b>5.3</b> White space around img</a></li>
<li class="chapter" data-level="5.4" data-path=""><a href="#footer-and-header"><i class="fa fa-check"></i><b>5.4</b> Footer and header</a></li>
<li class="chapter" data-level="5.5" data-path=""><a href="#figincol"><i class="fa fa-check"></i><b>5.5</b> figures in columns</a></li>
<li class="chapter" data-level="5.6" data-path=""><a href="#several-columns"><i class="fa fa-check"></i><b>5.6</b> Several columns</a></li>
<li class="chapter" data-level="5.7" data-path=""><a href="#hide-code"><i class="fa fa-check"></i><b>5.7</b> Hide code</a></li>
<li class="chapter" data-level="5.8" data-path=""><a href="#inlink"><i class="fa fa-check"></i><b>5.8</b> Internal link</a></li>
<li class="chapter" data-level="5.9" data-path=""><a href="#compile-in-a-website"><i class="fa fa-check"></i><b>5.9</b> Compile in a website</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path=""><a href="#公式加上编号"><i class="fa fa-check"></i><b>6</b> 公式加上编号</a></li>
<li class="chapter" data-level="7" data-path=""><a href="#让-output-保存到特定的文件夹"><i class="fa fa-check"></i><b>7</b> 让 output 保存到特定的文件夹</a></li>
<li class="chapter" data-level="8" data-path=""><a href="#类似-nbdev-写函数功能"><i class="fa fa-check"></i><b>8</b> 类似 nbdev 写函数功能</a></li>
<li class="chapter" data-level="9" data-path=""><a href="#spin_child"><i class="fa fa-check"></i><b>9</b> spin_child</a></li>
<li class="chapter" data-level="10" data-path=""><a href="#pretty-print"><i class="fa fa-check"></i><b>10</b> pretty print</a></li>
<li class="chapter" data-level="11" data-path=""><a href="#engine.path"><i class="fa fa-check"></i><b>11</b> engine.path</a></li>
<li class="chapter" data-level="12" data-path=""><a href="#direct-use-dot"><i class="fa fa-check"></i><b>12</b> direct use dot</a></li>
<li class="chapter" data-level="13" data-path=""><a href="#r-代码模块引用"><i class="fa fa-check"></i><b>13</b> R 代码模块引用</a></li>
<li class="chapter" data-level="14" data-path=""><a href="#caption"><i class="fa fa-check"></i><b>14</b> Caption</a><ul>
<li class="chapter" data-level="14.1" data-path=""><a href="#caption-默认在下"><i class="fa fa-check"></i><b>14.1</b> caption 默认在下</a></li>
<li class="chapter" data-level="14.2" data-path=""><a href="#caption-不重复"><i class="fa fa-check"></i><b>14.2</b> caption 不重复</a></li>
<li class="chapter" data-level="14.3" data-path=""><a href="#caption-在上"><i class="fa fa-check"></i><b>14.3</b> caption 在上</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path=""><a href="#cross-reference"><i class="fa fa-check"></i><b>15</b> cross reference</a></li>
<li class="chapter" data-level="16" data-path=""><a href="#add-toc-github-document"><i class="fa fa-check"></i><b>16</b> Add Toc Github Document</a><ul>
<li class="chapter" data-level="16.1" data-path=""><a href="#introduction"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path=""><a href="#as-is"><i class="fa fa-check"></i><b>17</b> As Is</a><ul>
<li class="chapter" data-level="17.1" data-path=""><a href="#introduction-1"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path=""><a href="#embed"><i class="fa fa-check"></i><b>18</b> Embed</a></li>
<li class="chapter" data-level="19" data-path=""><a href="#gitbook"><i class="fa fa-check"></i><b>19</b> Gitbook</a></li>
<li class="chapter" data-level="20" data-path=""><a href="#iframe-bugs"><i class="fa fa-check"></i><b>20</b> Iframe Bugs</a></li>
<li class="chapter" data-level="21" data-path=""><a href="#iframe-margin"><i class="fa fa-check"></i><b>21</b> Iframe Margin</a></li>
<li class="chapter" data-level="22" data-path=""><a href="#kable-add-title"><i class="fa fa-check"></i><b>22</b> Kable Add Title</a></li>
<li class="chapter" data-level="23" data-path=""><a href="#kable"><i class="fa fa-check"></i><b>23</b> Kable</a></li>
<li class="chapter" data-level="24" data-path=""><a href="#license"><i class="fa fa-check"></i><b>24</b> License</a></li>
<li class="chapter" data-level="25" data-path=""><a href="#literate-prog"><i class="fa fa-check"></i><b>25</b> Literate Prog</a></li>
<li class="chapter" data-level="26" data-path=""><a href="#load-more-weakness"><i class="fa fa-check"></i><b>26</b> Load More Weakness</a></li>
<li class="chapter" data-level="27" data-path=""><a href="#no-space-left-on-device"><i class="fa fa-check"></i><b>27</b> No Space Left On Device</a></li>
<li class="chapter" data-level="28" data-path=""><a href="#pandoc-args"><i class="fa fa-check"></i><b>28</b> Pandoc Args</a></li>
<li class="chapter" data-level="29" data-path=""><a href="#powerpoint"><i class="fa fa-check"></i><b>29</b> Powerpoint</a></li>
<li class="chapter" data-level="30" data-path=""><a href="#rmd-sql"><i class="fa fa-check"></i><b>30</b> Rmd Sql</a></li>
<li class="chapter" data-level="31" data-path=""><a href="#share-bib"><i class="fa fa-check"></i><b>31</b> Share Bib</a></li>
<li class="chapter" data-level="32" data-path=""><a href="#在同一文件夹中分享-bib"><i class="fa fa-check"></i><b>32</b> 在同一文件夹中分享 bib</a></li>
<li class="chapter" data-level="33" data-path=""><a href="#stuck-in-knitting"><i class="fa fa-check"></i><b>33</b> Stuck In Knitting</a></li>
<li class="chapter" data-level="34" data-path=""><a href="#use-collapse"><i class="fa fa-check"></i><b>34</b> Use Collapse</a><ul>
<li class="chapter" data-level="34.1" data-path=""><a href="#introduction-2"><i class="fa fa-check"></i><b>34.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path=""><a href="#use-r-chunk-option-child"><i class="fa fa-check"></i><b>35</b> Use R Chunk Option Child</a></li>
<li class="chapter" data-level="36" data-path=""><a href="#yaml-load"><i class="fa fa-check"></i><b>36</b> Yaml Load</a></li>
<li class="chapter" data-level="37" data-path=""><a href="#nested-code-block"><i class="fa fa-check"></i><b>37</b> Nested Code Block</a></li>
<li class="chapter" data-level="38" data-path=""><a href="#param-rmd"><i class="fa fa-check"></i><b>38</b> Param Rmd</a></li>
<li class="chapter" data-level="39" data-path=""><a href="#rmd-template"><i class="fa fa-check"></i><b>39</b> Rmd Template</a></li>
<li class="chapter" data-level="40" data-path=""><a href="#自定义-comment-的符号"><i class="fa fa-check"></i><b>40</b> 自定义 comment 的符号</a></li>
<li class="chapter" data-level="41" data-path=""><a href="#写"><i class="fa fa-check"></i><b>41</b> 写 <code>@</code></a></li>
<li class="chapter" data-level="42" data-path=""><a href="#markdown-构建-table"><i class="fa fa-check"></i><b>42</b> markdown 构建 table</a></li>
<li class="chapter" data-level="43" data-path=""><a href="#data.frame-to-markdown-table"><i class="fa fa-check"></i><b>43</b> data.frame to markdown table</a></li>
<li class="chapter" data-level="44" data-path=""><a href="#忽略报错"><i class="fa fa-check"></i><b>44</b> 忽略报错</a></li>
<li class="chapter" data-level="45" data-path=""><a href="#查看项目的-gitbook"><i class="fa fa-check"></i><b>45</b> 查看项目的 gitbook</a></li>
<li class="chapter" data-level="" data-path=""><a href="#附录"><i class="fa fa-check"></i>附录</a></li>
<li class="chapter" data-level="" data-path=""><a href="#参考文献"><i class="fa fa-check"></i>参考文献</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">RMarkdown Cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">RMarkdown Cookbook</h1>
<p class="author"><em>李家翔</em></p>
<p class="date"><em>2020-02-26</em></p>
</div>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
<ol style="list-style-type: decimal">
<li>使用 RMarkdown 的 <code>child</code> 参数，进行文档拼接。</li>
<li>这样拼接以后的笔记方便复习。</li>
<li>相关问题提交到
<a class="github-button" href="https://github.com/JiaxiangBU/tutoring2/issues" data-show-count="true" aria-label="Issue JiaxiangBU/tutoring on GitHub">Issue</a></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<div id="fenced-code-blocks" class="section level1">
<h1><span class="header-section-number">1</span> Fenced code blocks</h1>
<p>参考 <a href="https://github.com/carwin/markdown-styleguide" class="uri">https://github.com/carwin/markdown-styleguide</a></p>
<pre><code>```
  - This list item contains a fenced code block.
  - Let&#39;s show how it might interact with a list.

    ```
    .code-example {
      property: value;
    }
    ```

There is a newline above this paragraph because it is both the end of a
list and because it follows a fenced code block.
```</code></pre>
</div>
<div id="display-chunk" class="section level1">
<h1><span class="header-section-number">2</span> display chunk</h1>
<p>参考 <a href="https://github.com/yihui/knitr-examples/blob/master/065-rmd-chunk.Rmd" class="uri">https://github.com/yihui/knitr-examples/blob/master/065-rmd-chunk.Rmd</a></p>
<blockquote>
<p>Sometimes we do not want to evaluate a chunk, and we just want to include a chunk literally, e.g. when writing tutorials.
The R code chunks in these examples are still identified by <strong>knitr</strong>. <strong>If we do not want to evaluate the code at all</strong>, there is another approach, which is to break the chunk syntax by adding an <strong>empty string</strong> as <em>inline R code</em>.</p>
</blockquote>
<p>也就是说，在<code>```{r}</code>后面增加<code>''</code>即可。</p>
<pre><code>```{r eval=TRUE}
n = 10
rnorm(x)
```</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figure/bug-toc.png&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-3"></span>
<img src="figure/bug-toc.png" alt="如果不缩进的话，目录会产生问题。" width="156" />
<p class="caption">
Figure 2.1: 如果不缩进的话，目录会产生问题。
</p>
</div>
<p>没有变成 chunk 是因为没有缩进。</p>
<blockquote>
<p>it is indented by 4 spaces because we want to show it in a preformatted block in the HTML output</p>
</blockquote>
<pre><code>```{r eval=TRUE}
n = 10
rnorm(x)
```</code></pre>
<p>这就是 Zero Width Space 也是一种方法，一般不容易手动加入。</p>
<p>要注意缩进。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figure/nested_code_block.png&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-4"></span>
<img src="figure/nested_code_block.png" alt="否则 RStudio IDE 会错误识别。" width="530" />
<p class="caption">
Figure 2.2: 否则 RStudio IDE 会错误识别。
</p>
</div>
<p>或者存到文档里面，进行 read
参考 [rmd-template]，并且需要注意加上<code>comment=""</code>，方便复制。</p>
</div>
<div id="github-star-badges" class="section level1">
<h1><span class="header-section-number">3</span> GitHub Star Badges</h1>
<p>参考 <a href="https://github.com/ddavison/github-badges">github</a></p>
<ol style="list-style-type: decimal">
<li>add 少量贡献包 <a href="https://github.com/dmlc/xgboost">Xgboost</a> <a href="https://github.com/dmlc/xgboost"><img src="http://githubbadges.com/star.svg?user=dmlc&amp;repo=xgboost" alt="star this repo" /></a></li>
<li>add 少量贡献包 <a href="https://github.com/haozhu233/kableExtra">kableExtra</a> <a href="https://github.com/haozhu233/kableExtra"><img src="http://githubbadges.com/star.svg?user=haozhu233&amp;repo=kableExtra" alt="star this repo" /></a></li>
</ol>
<p>在 notesdown 上面增加内容</p>
</div>
<div id="内部链接功能" class="section level1">
<h1><span class="header-section-number">4</span> 内部链接功能</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figure/redirection.png&quot;</span>)</a></code></pre></div>
<p><img src="figure/redirection.png" width="746" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figure/redirection_result.png&quot;</span>)</a></code></pre></div>
<p><img src="figure/redirection_result.png" width="387" /></p>
<p>这样就可以替代 印象笔记 的<a href="https://www.yinxiang.com/blog/blog/2018/06/01/evernote-note-link/">内部链接</a>功能。</p>
</div>
<div id="html-tips" class="section level1">
<h1><span class="header-section-number">5</span> HTML Tips</h1>
<div id="skip-a-line" class="section level2">
<h2><span class="header-section-number">5.1</span> Skip a line</h2>
<pre><code>A first sentence
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
A seconde sentence</code></pre>
<p>A first sentence
<br><br><br><br>
A seconde sentence</p>
</div>
<div id="center-an-image" class="section level2">
<h2><span class="header-section-number">5.2</span> Center an image</h2>
<pre><code>&lt;center&gt;
![FigName](logo_r_graph_gallery.jpg)
&lt;/center&gt;</code></pre>
<p>只需要略懂<code>&lt;&gt;</code>标记语言。</p>
</div>
<div id="white-space-around-img" class="section level2">
<h2><span class="header-section-number">5.3</span> White space around img</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;../analysis/collapse-fail-workflowr.png&quot;</span>)</a></code></pre></div>
<p><img src="../analysis/collapse-fail-workflowr.png" /><!-- --></p>
<p><code>fig.asp=5</code> 还不懂。</p>
</div>
<div id="footer-and-header" class="section level2">
<h2><span class="header-section-number">5.4</span> Footer and header</h2>
<pre><code>&amp;nbsp;
&lt;hr /&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;A work by &lt;a href=&quot;https://github.com/holtzy/&quot;&gt;Yan Holtz&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: #808080;&quot;&gt;&lt;em&gt;Yan.holtz.data@gmail.com&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;!-- Add icon library --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&quot;&gt;

&lt;!-- Add font awesome icons --&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;https://twitter.com/r_graph_gallery?lang=en&quot; class=&quot;fa fa-twitter&quot;&gt;&lt;/a&gt;
    &lt;a href=&quot;https://www.linkedin.com/in/yan-holtz-2477534a/&quot; class=&quot;fa fa-linkedin&quot;&gt;&lt;/a&gt;
    &lt;a href=&quot;https://github.com/holtzy/&quot; class=&quot;fa fa-github&quot;&gt;&lt;/a&gt;
&lt;/p&gt;

&amp;nbsp;</code></pre>
<p>但是会报错</p>
<p><a href="https://github.com/JiaxiangBU/learn_rmd/issues/1" class="uri">https://github.com/JiaxiangBU/learn_rmd/issues/1</a></p>
</div>
<div id="figincol" class="section level2">
<h2><span class="header-section-number">5.5</span> figures in columns</h2>
<pre><code>```{r out.width=c(&#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;), fig.show=&#39;hold&#39;}
library(magrittr)
boxplot(1:10)
plot(rnorm(10))
plot(rnorm(10))
plot(rnorm(10))
```</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">boxplot</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb14-4" title="4"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb14-5" title="5"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>))</a></code></pre></div>
<p><img src="cookbook_files/figure-html/unnamed-chunk-23-1.png" width="25%" /><img src="cookbook_files/figure-html/unnamed-chunk-23-2.png" width="25%" /><img src="cookbook_files/figure-html/unnamed-chunk-23-3.png" width="25%" /><img src="cookbook_files/figure-html/unnamed-chunk-23-4.png" width="25%" /></p>
<p><a href="https://github.com/JiaxiangBU/learn_rmd/issues/2" class="uri">https://github.com/JiaxiangBU/learn_rmd/issues/2</a></p>
</div>
<div id="several-columns" class="section level2">
<h2><span class="header-section-number">5.6</span> Several columns</h2>
<p>感觉比 <a href="#figincol">figures in columns</a></p>
<div class="row">
<div class="col-md-4">
<p><br><br>Since R Markdown use the <a href="https://getbootstrap.com/docs/4.0/layout/grid/">bootstrap framework</a> under the hood. It is possible to benefit its powerful grid system. Basically, you can consider that your row is divided in 12 subunits of same width. You can then choose to use only a few of this subunits.</p>
</div>
<div class="col-md-4">
<p><br><br>Here, I use 3 subunits of size 4 (4x3=12). The last column is used for a plot. You can read more about the grid system <a href="bootstrap%20grid%20system">here</a>. I got this result showing the following code in my R Markdown document.</p>
</div>
<div class="col-md-4">
<p><code>{r, message=FALSE, echo=FALSE} ggplot( mtcars, aes(x=mpg)) + geom_histogram(fill="skyblue", alpha=0.5) + theme_minimal()</code></p>
</div>
</div>
<pre><code>&lt;div class = &quot;row&quot;&gt;
  
&lt;div class = &quot;col-md-4&quot;&gt;
&lt;br&gt;&lt;br&gt;Since R Markdown use the [bootstrap framework](https://getbootstrap.com/docs/4.0/layout/grid/) under the hood. It is possible to benefit its powerful grid system. Basically, you can consider that your row is divided in 12 subunits of same width. You can then choose to use only a few of this subunits.
&lt;/div&gt;
  
&lt;div class = &quot;col-md-4&quot;&gt;
&lt;br&gt;&lt;br&gt;Here, I use 3 subunits of size 4 (4x3=12). The last column is used for a plot. You can read more about the grid system [here](bootstrap grid system). I got this result showing the following code in my R Markdown document.
&lt;/div&gt;
  
&lt;div class = &quot;col-md-4&quot;&gt;
``{r, message=FALSE, echo=FALSE}
ggplot( mtcars, aes(x=mpg)) + geom_histogram(fill=&quot;skyblue&quot;, alpha=0.5) + theme_minimal()
``
&lt;/div&gt;
&lt;/div&gt;</code></pre>
<p><a href="https://github.com/JiaxiangBU/learn_rmd/issues/3" class="uri">https://github.com/JiaxiangBU/learn_rmd/issues/3</a></p>
</div>
<div id="hide-code" class="section level2">
<h2><span class="header-section-number">5.7</span> Hide code</h2>
<pre><code>output:
  html_document:
    code_folding: &quot;hide&quot;</code></pre>
<p>这算是给一个选择。</p>
</div>
<div id="inlink" class="section level2">
<h2><span class="header-section-number">5.8</span> Internal link</h2>
<p><a href="#skip-a-line">Skip a line</a></p>
</div>
<div id="compile-in-a-website" class="section level2">
<h2><span class="header-section-number">5.9</span> Compile in a website</h2>
<p><code>_site.yml</code> 其中的文字</p>
<pre><code>name: &quot;my-website&quot;
navbar:
  title: &quot;My Website&quot;
  left:
    - text: &quot;Home&quot;
      href: index.html
    - text: &quot;About&quot;
      href: about.html</code></pre>
<p>通过</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">rmarkdown<span class="op">::</span><span class="kw">render_site</span>()</a></code></pre></div>
<p>很快的建立了 有nav bar 的网站，workflowr 也是在这个基础上发展的。</p>
</div>
</div>
<div id="公式加上编号" class="section level1">
<h1><span class="header-section-number">6</span> 公式加上编号</h1>
<p>参考 <a href="https://github.com/nealxun/ForecastingPrinciplePractices/blob/master/11-advanced.Rmd" class="uri">https://github.com/nealxun/ForecastingPrinciplePractices/blob/master/11-advanced.Rmd</a></p>
<pre><code>\begin{align}
\label{var1a}
  y_{1,t} &amp;= c_1+\phi _{11,1}y_{1,t-1}+\phi _{12,1}y_{2,t-1}+e_{1,t} (\#eq:var1a)\\
  y_{2,t} &amp;= c_2+\phi _{21,1}y_{1,t-1}+\phi _{22,1}y_{2,t-1}+e_{2,t} (\#eq:var1b)
\end{align}</code></pre>
<p><span class="math display" id="eq:var1b" id="eq:var1a">\[\begin{align}
\label{var1a}
  y_{1,t} &amp;= c_1+\phi _{11,1}y_{1,t-1}+\phi _{12,1}y_{2,t-1}+e_{1,t} \tag{6.1}\\
  y_{2,t} &amp;= c_2+\phi _{21,1}y_{1,t-1}+\phi _{22,1}y_{2,t-1}+e_{2,t} \tag{6.2}
\end{align}\]</span></p>
<p><del>就是必须这样写 <code>$$</code> 别加，然后下面可以引用公式</del>
而是要多加上<code>\begin{align}</code>和<code>\end{align}</code></p>
<pre><code>\@ref(eq:var1a) 和 \@ref(eq:var1b)</code></pre>
<p><a href="#eq:var1a">(6.1)</a> 和 <a href="#eq:var1b">(6.2)</a></p>
</div>
<div id="让-output-保存到特定的文件夹" class="section level1">
<h1><span class="header-section-number">7</span> 让 output 保存到特定的文件夹</h1>
<p>参考 <a href="https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html" class="uri">https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html</a></p>
<p>比如在 <code>analysis</code> 文件夹中产生两个文件夹</p>
<ol style="list-style-type: decimal">
<li><code>analysis/index.Rmd</code>，这是空文件。
<code>index.Rmd</code> 先 knit 得到 <code>output/index.html</code>。</li>
<li><code>analysis/_site.yml</code>，内容为<code>output_dir: ../output</code></li>
</ol>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb21-1" title="1"><span class="ex">On</span> branch master</a>
<a class="sourceLine" id="cb21-2" title="2"><span class="ex">Your</span> branch is up to date with <span class="st">&#39;origin/master&#39;</span>.</a>
<a class="sourceLine" id="cb21-3" title="3"></a>
<a class="sourceLine" id="cb21-4" title="4"><span class="ex">Untracked</span> files:</a>
<a class="sourceLine" id="cb21-5" title="5">  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="kw">)</span></a>
<a class="sourceLine" id="cb21-6" title="6"></a>
<a class="sourceLine" id="cb21-7" title="7">    <span class="ex">analysis/_site.yml</span></a>
<a class="sourceLine" id="cb21-8" title="8">    <span class="ex">analysis/index.Rmd</span></a>
<a class="sourceLine" id="cb21-9" title="9">    <span class="ex">analysis/test-output-dir.Rmd</span></a>
<a class="sourceLine" id="cb21-10" title="10">    <span class="ex">output/test-output-dir.md</span></a>
<a class="sourceLine" id="cb21-11" title="11"></a>
<a class="sourceLine" id="cb21-12" title="12"><span class="ex">nothing</span> added to commit but untracked files present (use <span class="st">&quot;git add&quot;</span> to track)</a></code></pre></div>
<p>以 <code>analysis/test-output-dir.Rmd</code> 为例，当通过快捷键 Ctrl + Shift + K render 文件时，产出 <code>output/test-output-dir.md</code> 的位置在设定的路径<code>output</code>。</p>
</div>
<div id="类似-nbdev-写函数功能" class="section level1">
<h1><span class="header-section-number">8</span> 类似 nbdev 写函数功能</h1>
<p>Actually, I find ‘dot’ is one of the engines which ‘knitr’ support.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb22-2" title="2"><span class="co">#&gt; Warning: 程辑包&#39;magrittr&#39;是用R版本3.6.1 来建造的</span></a>
<a class="sourceLine" id="cb22-3" title="3"><span class="kw">names</span>(knitr<span class="op">::</span>knit_engines<span class="op">$</span><span class="kw">get</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-4" title="4"><span class="st">    </span><span class="kw">sort</span>()</a>
<a class="sourceLine" id="cb22-5" title="5"><span class="co">#&gt;  [1] &quot;asis&quot;      &quot;asy&quot;       &quot;awk&quot;       &quot;bash&quot;      &quot;block&quot;     &quot;block2&quot;   </span></a>
<a class="sourceLine" id="cb22-6" title="6"><span class="co">#&gt;  [7] &quot;c&quot;         &quot;cat&quot;       &quot;coffee&quot;    &quot;css&quot;       &quot;dot&quot;       &quot;fortran&quot;  </span></a>
<a class="sourceLine" id="cb22-7" title="7"><span class="co">#&gt; [13] &quot;fortran95&quot; &quot;gawk&quot;      &quot;go&quot;        &quot;groovy&quot;    &quot;haskell&quot;   &quot;highlight&quot;</span></a>
<a class="sourceLine" id="cb22-8" title="8"><span class="co">#&gt; [19] &quot;js&quot;        &quot;julia&quot;     &quot;lein&quot;      &quot;mysql&quot;     &quot;node&quot;      &quot;octave&quot;   </span></a>
<a class="sourceLine" id="cb22-9" title="9"><span class="co">#&gt; [25] &quot;perl&quot;      &quot;psql&quot;      &quot;python&quot;    &quot;Rcpp&quot;      &quot;Rscript&quot;   &quot;ruby&quot;     </span></a>
<a class="sourceLine" id="cb22-10" title="10"><span class="co">#&gt; [31] &quot;sas&quot;       &quot;sass&quot;      &quot;scala&quot;     &quot;scss&quot;      &quot;sed&quot;       &quot;sh&quot;       </span></a>
<a class="sourceLine" id="cb22-11" title="11"><span class="co">#&gt; [37] &quot;sql&quot;       &quot;stan&quot;      &quot;stata&quot;     &quot;tikz&quot;      &quot;zsh&quot;</span></a></code></pre></div>
<p><sup>Created on 2020-02-02 by the <a href="https://reprex.tidyverse.org">reprex package</a> (v0.3.0)</sup></p>
<p>However, I don’t find any source to run dot just like python, Julia.
I think there is another way to do it.
Use the chunk to preview dot code and use another r chunk to display the dot output.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1">readr<span class="op">::</span><span class="kw">read_lines</span>(<span class="st">&quot;output/use-cat.Rmd&quot;</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;```{cat, engine.opts=list(file = &#39;sample.dot&#39;)}&quot;
##  [2] &quot;digraph course {&quot;                               
##  [3] &quot;rankdir = LR&quot;                                   
##  [4] &quot;node [shape = box, style=filled]&quot;               
##  [5] &quot;layout = dot&quot;                                   
##  [6] &quot;compound =true&quot;                                 
##  [7] &quot;#color = crimson&quot;                               
##  [8] &quot;&quot;                                               
##  [9] &quot;a -&gt; b&quot;                                         
## [10] &quot;c -&gt; d&quot;                                         
## [11] &quot;}&quot;                                              
## [12] &quot;```&quot;                                            
## [13] &quot;&quot;                                               
## [14] &quot;```{r}&quot;                                         
## [15] &quot;DiagrammeR::grViz(\&quot;sample.dot\&quot;)&quot;              
## [16] &quot;```&quot;</code></pre>
<p>The temporal file <code>"sample.dot"</code> is optional, you can use a temp file by <code>fs::path_temp</code>.
Here, ‘cat’ is also one of the engines ‘knitr’ supports. Here are the notes to introduce it.</p>
<p><a href="https://bookdown.org/yihui/rmarkdown-cookbook/eng-cat.html" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook/eng-cat.html</a></p>
<p>以下是实现效果。</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1">DiagrammeR<span class="op">::</span><span class="kw">grViz</span>(<span class="st">&quot;output/sample.dot&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-7849e3d8837c7774cd63" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-7849e3d8837c7774cd63">{"x":{"diagram":"digraph course {\nrankdir = LR\nnode [shape = box, style=filled]\nlayout = dot\ncompound =true\n#color = crimson\n\na -> b\nc -> d\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="spin_child" class="section level1">
<h1><span class="header-section-number">9</span> spin_child</h1>
<p>参考
<a href="https://community.rstudio.com/t/how-to-write-r-script-into-rmd-as-functioning-code-chunk/37453/3?u=econkid" class="uri">https://community.rstudio.com/t/how-to-write-r-script-into-rmd-as-functioning-code-chunk/37453/3?u=econkid</a></p>
<p><code>knitr::spin_child("analysis.R")</code></p>
</div>
<div id="pretty-print" class="section level1">
<h1><span class="header-section-number">10</span> pretty print</h1>
<p>参考
<a href="https://stackoverflow.com/questions/24524594/pretty-print-sql-code-from-separate-file-with-knitr" class="uri">https://stackoverflow.com/questions/24524594/pretty-print-sql-code-from-separate-file-with-knitr</a></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">cat</span>(<span class="st">&quot;```sql</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="st">`r xfun::file_string(&#39;mycode.sql&#39;)`</span></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="st">```&quot;</span>)</a></code></pre></div>
<pre><code>## ```sql
## `r xfun::file_string(&#39;mycode.sql&#39;)`
## ```</code></pre>
</div>
<div id="engine.path" class="section level1">
<h1><span class="header-section-number">11</span> engine.path</h1>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">cat</span>(<span class="st">&quot;```{python, engine.path = &#39;D:</span><span class="ch">\\</span><span class="st">install</span><span class="ch">\\</span><span class="st">miniconda</span><span class="ch">\\</span><span class="st">Scripts</span><span class="ch">\\</span><span class="st">ipython3.exe&#39;}</span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="st">import sys</span></a>
<a class="sourceLine" id="cb28-3" title="3"><span class="st">print(sys.version)</span></a>
<a class="sourceLine" id="cb28-4" title="4"><span class="st">```&quot;</span>)</a></code></pre></div>
<pre><code>## ```{python, engine.path = &#39;D:\install\miniconda\Scripts\ipython3.exe&#39;}
## import sys
## print(sys.version)
## ```</code></pre>
<p>直接找到 exe。
<code>'D:\\install\\miniconda\\Scripts\\ipython3.exe'</code> 注意要双逸出符号</p>
</div>
<div id="direct-use-dot" class="section level1">
<h1><span class="header-section-number">12</span> direct use dot</h1>
<p>I find the solution on a yihui’s <a href="https://yihui.org/knitr/demo/engines/">post</a>.
See the example <a href="https://github.com/yihui/knitr-examples/blob/master/057-engine-dot.Rmd">‘dot.Rmd’</a> host on GitHub.</p>
<p>Here, the code is written in RMarkdown.</p>
<p>The output is here <a href="https://github.com/yihui/knitr-examples/blob/master/057-engine-dot.md" class="uri">https://github.com/yihui/knitr-examples/blob/master/057-engine-dot.md</a></p>
<iframe src="https://github.com/yihui/knitr-examples/blob/master/057-engine-dot.Rmd" width="100%" height="800px">
</iframe>
<p>因此我回复了这个问题
<a href="https://community.rstudio.com/t/dot-in-rmarkdown/51311/4" class="uri">https://community.rstudio.com/t/dot-in-rmarkdown/51311/4</a></p>
</div>
<div id="r-代码模块引用" class="section level1">
<h1><span class="header-section-number">13</span> R 代码模块引用</h1>
<p>参考 <a href="http://stackoverflow.com/q/14802183/559676" class="uri">http://stackoverflow.com/q/14802183/559676</a>
源代码参考 <a href="https://github.com/yihui/knitr-examples/blob/master/083-ggplot2-reference.Rmd" class="uri">https://github.com/yihui/knitr-examples/blob/master/083-ggplot2-reference.Rmd</a></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">theme</span> (<span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>, <span class="dt">angle=</span><span class="dv">45</span>))<span class="op">+</span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="st">  </span><span class="kw">theme</span> (<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</a></code></pre></div>
<p>Now we can use <code>&lt;&lt;&gt;&gt;</code> to reference it.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb31-2" title="2"><span class="kw">qplot</span>(carat, price, <span class="dt">data=</span>diamonds, <span class="dt">color=</span>cut)<span class="op">+</span></a>
<a class="sourceLine" id="cb31-3" title="3"><span class="st">  </span><span class="kw">theme</span> (<span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>, <span class="dt">angle=</span><span class="dv">45</span>))<span class="op">+</span></a>
<a class="sourceLine" id="cb31-4" title="4"><span class="st">    </span><span class="kw">theme</span> (<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</a></code></pre></div>
<p><img src="cookbook_files/figure-html/test-a-1.png" width="672" /></p>
<p>目前测试，只支持 ggplot2</p>
</div>
<div id="caption" class="section level1">
<h1><span class="header-section-number">14</span> Caption</h1>
<div id="caption-默认在下" class="section level2">
<h2><span class="header-section-number">14.1</span> caption 默认在下</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="kw">rep</span>(<span class="st">&quot;../figure/bug-toc.png&quot;</span>, <span class="dv">3</span>))</a></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-251"></span>
<img src="../figure/bug-toc.png" alt="图片的 caption"  />
<p class="caption">
Figure 14.1: 图片的 caption
</p>
</div>
<div class="figure"><span id="fig:unnamed-chunk-252"></span>
<img src="../figure/bug-toc.png" alt="图片的 caption"  />
<p class="caption">
Figure 14.2: 图片的 caption
</p>
</div>
<div class="figure"><span id="fig:unnamed-chunk-253"></span>
<img src="../figure/bug-toc.png" alt="图片的 caption"  />
<p class="caption">
Figure 14.3: 图片的 caption
</p>
</div>
</div>
<div id="caption-不重复" class="section level2">
<h2><span class="header-section-number">14.2</span> caption 不重复</h2>
<p><code>fig.show = "hold"</code></p>
<pre><code>```{r, fig.cap=&#39;图片的 caption&#39;, fig.show = &quot;hold&quot;}
knitr::include_graphics(rep(&quot;../figure/bug-toc.png&quot;, 3))
```</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="kw">rep</span>(<span class="st">&quot;../figure/bug-toc.png&quot;</span>, <span class="dv">3</span>))</a></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-26"></span>
<img src="../figure/bug-toc.png" alt="图片的 caption"  /><img src="../figure/bug-toc.png" alt="图片的 caption"  /><img src="../figure/bug-toc.png" alt="图片的 caption"  />
<p class="caption">
Figure 14.4: 图片的 caption
</p>
</div>
</div>
<div id="caption-在上" class="section level2">
<h2><span class="header-section-number">14.3</span> caption 在上</h2>
<p><code>fig.topcaption = TRUE</code></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="kw">rep</span>(<span class="st">&quot;../figure/bug-toc.png&quot;</span>, <span class="dv">3</span>))</a></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-271"></span>
<p class="caption">
Figure 14.5: 图片的 caption
</p>
<img src="../figure/bug-toc.png" alt="图片的 caption"  />
</div>
<div class="figure"><span id="fig:unnamed-chunk-272"></span>
<p class="caption">
Figure 14.6: 图片的 caption
</p>
<img src="../figure/bug-toc.png" alt="图片的 caption"  />
</div>
<div class="figure"><span id="fig:unnamed-chunk-273"></span>
<p class="caption">
Figure 14.7: 图片的 caption
</p>
<img src="../figure/bug-toc.png" alt="图片的 caption"  />
</div>
</div>
</div>
<div id="cross-reference" class="section level1">
<h1><span class="header-section-number">15</span> cross reference</h1>
<p>参考 <a href="https://bookdown.org/yihui/bookdown/cross-references.html" class="uri">https://bookdown.org/yihui/bookdown/cross-references.html</a></p>
<p>[A plain text]</p>
<!-- 分割线 -->
<!-- 分割线 -->
<!-- 分割线 -->
<!-- 分割线 -->
<!-- 分割线 -->
<!-- 这里加入 misc -->
<!-- write_tmp -->
</div>
<div id="add-toc-github-document" class="section level1">
<h1><span class="header-section-number">16</span> Add Toc Github Document</h1>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">16.1</span> Introduction</h2>
<p>参考 <a href="https://community.rstudio.com/t/yaml-option-toc-doesnt-work-for-rmarkdown-github-document/18757">RStudio Community</a>，替换成 <code>md_document</code></p>
<pre><code>---
output: 
    md_document:
        df_print: tibble
        toc: true
        toc_depth: 2
bibliography: add.bib
---</code></pre>
</div>
</div>
<div id="as-is" class="section level1">
<h1><span class="header-section-number">17</span> As Is</h1>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">17.1</span> Introduction</h2>
<p>参考 <a href="https://bookdown.org/yihui/rmarkdown/r-code.html">bookdown</a></p>
<blockquote>
<p><code>results</code>: When set to <code>'hide'</code>, text output will be hidden; when set to <code>'asis'</code>, text output is written “as-is”, e.g., you can write out raw Markdown text from R code (like <code>cat('**Markdown** is cool.\n'))</code>. By default, text output will be wrapped in verbatim elements (typically plain code blocks).</p>
</blockquote>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">suppressMessages</span>(<span class="kw">library</span>(tidyverse))</a>
<a class="sourceLine" id="cb37-2" title="2">text &lt;-<span class="st"> &quot;1. 测试</span><span class="ch">\n</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb37-3" title="3"><span class="kw">rep</span>(text,<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-4" title="4"><span class="st">    </span><span class="kw">str_flatten</span>(<span class="st">&quot;&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-5" title="5"><span class="st">    </span>cat</a></code></pre></div>
<ol style="list-style-type: decimal">
<li>测试</li>
<li>测试</li>
</ol>
</div>
</div>
<div id="embed" class="section level1">
<h1><span class="header-section-number">18</span> Embed</h1>
<p>参考 <a href="https://stackoverflow.com/a/9976309/8625228">Stack Overflow</a> 进行设置宽度，但是未成功。</p>
<script>
  function resizeIframe(obj) {
    obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
  }
</script>
<iframe src="https://jiaxiangli.netlify.com/" frameborder="0" scrolling="yes" onload="resizeIframe(this)"></iframe>
<iframe src="https://jiaxiangli.netlify.com/" onload="this.style.height=this.contentDocument.body.scrollHeight +&#39;px&#39;;">
</iframe>
<code>&lt;iframe src="https://www.datavizforall.org/embed/index.html"&gt;&lt;/iframe&gt;</code>
<iframe src="https://jiaxiangli.netlify.com/">
</iframe>
<p><a href="https://datavizforall.org/embed.html" class="uri">https://datavizforall.org/embed.html</a></p>
<iframe name="Jiaxiang Li" src="https://jiaxiangli.netlify.com/about/" style="height: 100%; width: 100%;" frameborder="0" scrolling="yes" id="iframe">
…
</iframe>
<p>注意这里不插入</p>
<pre><code>...&lt;/iframe&gt;</code></pre>
<p>那么下面的文字是不能显示的。</p>
</div>
<div id="gitbook" class="section level1">
<h1><span class="header-section-number">19</span> Gitbook</h1>
<p>有空研究下 gitbook 的参数</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">?bookdown<span class="op">:::</span>gitbook</a></code></pre></div>
<p><code>split_by</code>可以分开，不然一个 html 太大了。<br />
<code>split_bib</code>也要分开，不然太长了。</p>
</div>
<div id="iframe-bugs" class="section level1">
<h1><span class="header-section-number">20</span> Iframe Bugs</h1>
<p>一般博客、静态网页，想要插入一个静态网页，最好的方法是使用 JavaScript 的<code>iframe</code>，但是我目前在 blogdown 的配置下出现问题，主要是因为尺寸太小。</p>
<p><img src="https://user-images.githubusercontent.com/15884785/57705816-21c1d080-7697-11e9-8574-f873fe909b18.png" /></p>
<p>可以在 <code>iframe</code> 的基础上改变参数，如</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb40-1" title="1"><span class="op">&lt;</span>iframe src<span class="op">=</span><span class="st">&quot;https://jiaxiangbu.github.io/r_code/analysis/import-data-learning-notes.html&quot;</span> width<span class="op">=</span><span class="st">&quot;100%&quot;</span> height<span class="op">=</span><span class="st">&quot;800px&quot;</span><span class="op">&gt;</span>&lt;/iframe<span class="op">&gt;</span></a></code></pre></div>
<p>这里需要注意设定的参数是</p>
<ol style="list-style-type: decimal">
<li><code>width="100%"</code></li>
<li><code>height="800px"</code></li>
</ol>
<p>可以替代的 R 代码为</p>
<pre class="rmarkdown"><code>## ```{r,out.width=&#39;100%&#39;, out.extra=&#39;style=&quot;display:block;&quot;&#39;}
## knitr::include_url(&#39;https://jiaxiangbu.github.io/tutoring/jinxiaosong/t-sne-theory.html&#39;, height = &#39;800px&#39;)
## ```</code></pre>
<p>这里故意加入一个参数 <code>out.extra='style="display:block;"'</code> 是为了避免报错。
详细见</p>
<ol style="list-style-type: decimal">
<li><a href="https://github.com/yihui/knitr/commit/7ce809e0fbc62cd390b5936286e79e602c60f2bc" class="uri">https://github.com/yihui/knitr/commit/7ce809e0fbc62cd390b5936286e79e602c60f2bc</a></li>
<li><a href="https://github.com/yihui/knitr/issues/1691" class="uri">https://github.com/yihui/knitr/issues/1691</a></li>
<li><a href="https://github.com/rstudio/blogdown/issues/32#issuecomment-275032071" class="uri">https://github.com/rstudio/blogdown/issues/32#issuecomment-275032071</a></li>
<li><a href="https://stackoverflow.com/questions/55941316/knitrinclude-url-ignored-in-output" class="uri">https://stackoverflow.com/questions/55941316/knitrinclude-url-ignored-in-output</a></li>
</ol>
<pre><code>out.extra NULL A character string of extra options for figures to be passed to LaTex or HTML.</code></pre>
<p><a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">www.rstudio.com</a></p>
<p>否则会产生报错</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">Error <span class="cf">in</span> <span class="kw">enc2utf8</span>(x) <span class="op">:</span><span class="st"> </span>argument is not a character vector</a></code></pre></div>
<p>最后产生的效果是</p>
<p><img src="https://user-images.githubusercontent.com/15884785/57705978-69485c80-7697-11e9-87d0-bf91bd0f3189.png" /></p>
</div>
<div id="iframe-margin" class="section level1">
<h1><span class="header-section-number">21</span> Iframe Margin</h1>
<p>跟随 <a href="iframe-bugs">iframe-bugs</a> 的问题，目前需要全页面的展示插入的网站，一般考虑两个参数</p>
<pre><code>&lt;iframe src=&quot;https://jiaxiangbu.github.io/r_code/analysis/import-data-learning-notes.html&quot; width=&quot;100%&quot; height=&quot;800px&quot; style=&quot;position:absolute; left:0px&quot;&gt;&lt;/iframe&gt;</code></pre>
<ol style="list-style-type: decimal">
<li>调整 <code>style="position:absolute;"</code>参数，参考<a href="https://stackoverflow.com/a/37044377/8625228">Stack Overflow</a></li>
<li>调整 <code>left</code> 参数，参考<a href="https://stackoverflow.com/questions/25651894/move-iframe-to-the-right-or-shift-content-inside-iframe-to-the-left">Stack Overflow</a></li>
</ol>
</div>
<div id="kable-add-title" class="section level1">
<h1><span class="header-section-number">22</span> Kable Add Title</h1>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">library</span>(knitr)</a></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" title="1"><span class="kw">kable</span>(<span class="kw">head</span>(iris), <span class="dt">format =</span> <span class="st">&quot;html&quot;</span>, <span class="dt">caption =</span> <span class="st">&quot;Title of the table&quot;</span>)</a></code></pre></div>
<table>
<caption>
<span id="tab:unnamed-chunk-50">Table 22.1: </span>Title of the table
</caption>
<thead>
<tr>
<th style="text-align:right;">
Sepal.Length
</th>
<th style="text-align:right;">
Sepal.Width
</th>
<th style="text-align:right;">
Petal.Length
</th>
<th style="text-align:right;">
Petal.Width
</th>
<th style="text-align:left;">
Species
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
5.1
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
4.9
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
3.2
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
4.6
</td>
<td style="text-align:right;">
3.1
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
3.6
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
1.7
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" title="1"><span class="co"># R Markdown/Github Markdown tables</span></a>
<a class="sourceLine" id="cb47-2" title="2"><span class="kw">kable</span>(<span class="kw">head</span>(mtcars[, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]), <span class="dt">format =</span> <span class="st">&quot;markdown&quot;</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Mazda RX4</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
</tr>
<tr class="even">
<td align="left">Mazda RX4 Wag</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
</tr>
<tr class="odd">
<td align="left">Datsun 710</td>
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
</tr>
<tr class="even">
<td align="left">Hornet 4 Drive</td>
<td align="right">21.4</td>
<td align="right">6</td>
<td align="right">258</td>
<td align="right">110</td>
<td align="right">3.08</td>
</tr>
<tr class="odd">
<td align="left">Hornet Sportabout</td>
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360</td>
<td align="right">175</td>
<td align="right">3.15</td>
</tr>
<tr class="even">
<td align="left">Valiant</td>
<td align="right">18.1</td>
<td align="right">6</td>
<td align="right">225</td>
<td align="right">105</td>
<td align="right">2.76</td>
</tr>
</tbody>
</table>
</div>
<div id="kable" class="section level1">
<h1><span class="header-section-number">23</span> Kable</h1>
<pre><code>---
output: 
  github_document: 
    df_print: kable
---</code></pre>
<p>方便。</p>
</div>
<div id="license" class="section level1">
<h1><span class="header-section-number">24</span> License</h1>
<p>What license are you using for your code? See <a href="http://choosealicense.com/">choosealicense.com</a> for
help deciding. It’s a convention to save a file <code>LICENSE</code> in the root of your
Git repo that contains the license text.</p>
<p>What license are you using for the written content on your site? It is
traditional to choose a <a href="https://creativecommons.org/choose/">Creative Commons</a> license for this type of content.</p>
<p>How should others cite your work? It’s a convention to save a file <code>CITATION</code>
in the root of your Git repo that contains the citation information.</p>
</div>
<div id="literate-prog" class="section level1">
<h1><span class="header-section-number">25</span> Literate Prog</h1>
<blockquote>
<p>… considering programs to be works of literature
<span class="citation">(Knuth 1984)</span></p>
<p>Let us change our traditional attitude to the construction of programs: Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to human beings what we want a computer to do.
<span class="citation">(Knuth 1984)</span></p>
</blockquote>
<p>文学编程 (Literate Programming) 虽然还是不是特别清楚，但不是 cmd line，而是作为解释性的叙述。</p>
<blockquote>
<p>他访问过很多成名的程序员。他对系统的阅读 code 持否定意见。我对「系统的」阅读的定义是，本身没有任何目的，希望像消费一本小说那样消费一个 code base，期待自动的获得知识。虽然我花过很多时间读 Linux kernel 和 Lua，但是每次读一定要给自己定一些探索小问题的目标。我觉得 literate program 并不是为了工程上的，以扩展原有系统为具体目的的阅读代码准备的，而是希望 code 成为能够被「系统化」（文学化）阅读的东西。这个我持否定态度。
<a href="https://www.zhihu.com/question/26978956/answer/73576593">冯东</a></p>
</blockquote>
<blockquote>
<p>这听起来就像在拿着剪刀浆糊在弄程序。虽然我个人还真有点喜欢这一套，但是，这种东西实际上会造成两方面的问题：代码不好维护；代码容易写的很ad hoc(特别的)。
因为这种写软件的方法是自底而上的办法，中间歪一点最终就成比萨斜塔了。</p>
</blockquote>
<p>这个也是我的想法。</p>
</div>
<div id="load-more-weakness" class="section level1">
<h1><span class="header-section-number">26</span> Load More Weakness</h1>
<pre><code>Attaching package: &#39;xfun&#39;

The following objects are masked from &#39;package:base&#39;:

    attr, isFALSE


Attaching package: &#39;glue&#39;

The following object is masked from &#39;package:dplyr&#39;:

    collapse

Error in base::attr(..., exact = TRUE) : 
  ��ʽ����&quot;exact&quot;�ж����֮���Ӧ��ʵ�ʲ���
Calls: sourceWithProgress -&gt; attr
ִֹͣ��</code></pre>
</div>
<div id="no-space-left-on-device" class="section level1">
<h1><span class="header-section-number">27</span> No Space Left On Device</h1>
<pre><code>&gt; blogdown:::serve_site()
Total in 4326 ms 
Error: Error copying static files: write /Users/vija/Downloads/work/blog_181126/public/about_files/grViz-binding/lib/mermaid/dist/mermaid.css: no space left on device
To stop the server, run servr::daemon_stop(&quot;140572298819464&quot;) or restart your R session
Serving the directory /Users/vija/Downloads/work/blog_181126 at http://127.0.0.1:4321</code></pre>
<p>「No space left on device」的意思是没有剩余空间了。</p>
</div>
<div id="pandoc-args" class="section level1">
<h1><span class="header-section-number">28</span> Pandoc Args</h1>
<pre><code>&gt;pandoc --help
pandoc [OPTIONS] [FILES]
  -f FORMAT, -r FORMAT  --from=FORMAT, --read=FORMAT
  -t FORMAT, -w FORMAT  --to=FORMAT, --write=FORMAT
  -o FILENAME           --output=FILENAME
                        --data-dir=DIRECTORY
  -R                    --parse-raw
  -S                    --smart
                        --old-dashes
                        --base-header-level=NUMBER
                        --indented-code-classes=STRING
  -F PROGRAM            --filter=PROGRAM
                        --normalize
  -p                    --preserve-tabs
                        --tab-stop=NUMBER
                        --track-changes=accept|reject|all
                        --file-scope
                        --extract-media=PATH
  -s                    --standalone
                        --template=FILENAME
  -M KEY[:VALUE]        --metadata=KEY[:VALUE]
  -V KEY[:VALUE]        --variable=KEY[:VALUE]
  -D FORMAT             --print-default-template=FORMAT
                        --print-default-data-file=FILE
                        --dpi=NUMBER
                        --no-wrap
                        --wrap=auto|none|preserve
                        --columns=NUMBER
                        --toc, --table-of-contents
                        --toc-depth=NUMBER
                        --no-highlight
                        --highlight-style=STYLE
  -H FILENAME           --include-in-header=FILENAME
  -B FILENAME           --include-before-body=FILENAME
  -A FILENAME           --include-after-body=FILENAME
                        --self-contained
                        --html-q-tags
                        --ascii
                        --reference-links
                        --reference-location=block|section|document
                        --atx-headers
                        --chapters
                        --top-level-division=section|chapter|part
  -N                    --number-sections
                        --number-offset=NUMBERS
                        --no-tex-ligatures
                        --listings
  -i                    --incremental
                        --slide-level=NUMBER
                        --section-divs
                        --default-image-extension=extension
                        --email-obfuscation=none|javascript|references
                        --id-prefix=STRING
  -T STRING             --title-prefix=STRING
  -c URL                --css=URL
                        --reference-odt=FILENAME
                        --reference-docx=FILENAME
                        --epub-stylesheet=FILENAME
                        --epub-cover-image=FILENAME
                        --epub-metadata=FILENAME
                        --epub-embed-font=FILE
                        --epub-chapter-level=NUMBER
                        --latex-engine=PROGRAM
                        --latex-engine-opt=STRING
                        --bibliography=FILE
                        --csl=FILE
                        --citation-abbreviations=FILE
                        --natbib
                        --biblatex
  -m[URL]               --latexmathml[=URL], --asciimathml[=URL]
                        --mathml[=URL]
                        --mimetex[=URL]
                        --webtex[=URL]
                        --jsmath[=URL]
                        --mathjax[=URL]
                        --katex[=URL]
                        --katex-stylesheet=URL
                        --gladtex
                        --trace
                        --dump-args
                        --ignore-args
                        --verbose
                        --bash-completion
                        --list-input-formats
                        --list-output-formats
                        --list-extensions
                        --list-highlight-languages
                        --list-highlight-styles
  -v                    --version
  -h                    --help</code></pre>
</div>
<div id="powerpoint" class="section level1">
<h1><span class="header-section-number">29</span> Powerpoint</h1>
<p>参考 <a href="https://bookdown.org/yihui/rmarkdown/powerpoint-presentation.html">bookdown</a>
学习做PPT，可以插入模板</p>
<p>todo 如何增加 caption 的序号呢？
字体大小</p>
<p>rmarkdown PowerPoint caption reference</p>
<p>但是复现的时候，非常快，不需要陷入粘贴数据、图片的泥沼。</p>
<p>而且现在生成 ppt 更加稳定了。</p>
<p>multi-rows
<a href="https://pandoc.org/MANUAL.html#producing-slide-shows-with-pandoc" class="uri">https://pandoc.org/MANUAL.html#producing-slide-shows-with-pandoc</a></p>
<p>fontsize
<a href="https://stackoverflow.com/questions/30446905/rmarkdown-font-size-and-header" class="uri">https://stackoverflow.com/questions/30446905/rmarkdown-font-size-and-header</a></p>
<p>目前感觉 PPT 做起来还有点吃力，我得快快设置 font size 等</p>
</div>
<div id="rmd-sql" class="section level1">
<h1><span class="header-section-number">30</span> Rmd Sql</h1>
<p>参考<a href="https://bookdown.org/yihui/rmarkdown/language-engines.html#sql">bookdown</a></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">library</span>(DBI)</a>
<a class="sourceLine" id="cb52-2" title="2">con &lt;-<span class="st"> </span><span class="kw">dbConnect</span>(RSQLite<span class="op">::</span><span class="kw">SQLite</span>(), <span class="st">&quot;:memory:&quot;</span>)</a>
<a class="sourceLine" id="cb52-3" title="3"><span class="kw">dbWriteTable</span>(con, <span class="st">&quot;mtcars&quot;</span>, mtcars)</a>
<a class="sourceLine" id="cb52-4" title="4"><span class="kw">library</span>(glue)</a>
<a class="sourceLine" id="cb52-5" title="5">tbl &lt;-<span class="st"> &quot;mtcars&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb53-1" title="1"><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> `mtcars` <span class="kw">where</span> gear <span class="kw">IN</span> (<span class="dv">3</span>, <span class="dv">4</span>)</a></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-53">Table 30.1: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160.0</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.620</td>
<td align="right">16.46</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160.0</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.875</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108.0</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.320</td>
<td align="right">18.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">21.4</td>
<td align="right">6</td>
<td align="right">258.0</td>
<td align="right">110</td>
<td align="right">3.08</td>
<td align="right">3.215</td>
<td align="right">19.44</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360.0</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">18.1</td>
<td align="right">6</td>
<td align="right">225.0</td>
<td align="right">105</td>
<td align="right">2.76</td>
<td align="right">3.460</td>
<td align="right">20.22</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">14.3</td>
<td align="right">8</td>
<td align="right">360.0</td>
<td align="right">245</td>
<td align="right">3.21</td>
<td align="right">3.570</td>
<td align="right">15.84</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">24.4</td>
<td align="right">4</td>
<td align="right">146.7</td>
<td align="right">62</td>
<td align="right">3.69</td>
<td align="right">3.190</td>
<td align="right">20.00</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">140.8</td>
<td align="right">95</td>
<td align="right">3.92</td>
<td align="right">3.150</td>
<td align="right">22.90</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">19.2</td>
<td align="right">6</td>
<td align="right">167.6</td>
<td align="right">123</td>
<td align="right">3.92</td>
<td align="right">3.440</td>
<td align="right">18.30</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="share-bib" class="section level1">
<h1><span class="header-section-number">31</span> Share Bib</h1>
</div>
<div id="在同一文件夹中分享-bib" class="section level1">
<h1><span class="header-section-number">32</span> 在同一文件夹中分享 bib</h1>
<p>In the <code>_output.yaml</code></p>
<pre><code>github_document:
  df_print: kable
  pandoc_args: [&quot;--bibliography=../add.bib&quot;]</code></pre>
<p>In the <code>_site.yml</code>，参考 <a href="https://github.com/JiaxiangBU/test-workflowr/blob/master/analysis/_site.yml">github</a></p>
<pre><code>name: &quot;test-workflowr&quot;
output_dir: ../docs
navbar:
  title: &quot;test-workflowr&quot;
  left:
  - text: Home
    href: index.html
  - text: About
    href: about.html
  - text: License
    href: license.html
output:
  workflowr::wflow_html:
    toc: yes
    toc_float: yes
    theme: cosmo
    highlight: textmate
    pandoc_args: [&quot;--bibliography=add.bib&quot;]</code></pre>
</div>
<div id="stuck-in-knitting" class="section level1">
<h1><span class="header-section-number">33</span> Stuck In Knitting</h1>
<blockquote>
<ol style="list-style-type: decimal">
<li>如果用户留存低，那么首次登录很可能都是新增用户，因此66行为信息都很少，这在之前的样本表的<a href="../rating/submission_view/opd_ppd_66_rating_20190313_wyq.html">EDA结果</a>中<em>Missing Data Profile</em>显示，66行为变量缺失率都很高。</li>
</ol>
</blockquote>
<ol style="list-style-type: decimal">
<li>有链接那么就会卡住，换成绝对链接</li>
<li>有英文就卡住，主要是用了<code>*</code>表示斜体。</li>
</ol>
</div>
<div id="use-collapse" class="section level1">
<h1><span class="header-section-number">34</span> Use Collapse</h1>
<div id="introduction-2" class="section level2">
<h2><span class="header-section-number">34.1</span> Introduction</h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" title="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" title="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>设置 <code>collapse=TRUE</code> 后，</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" title="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb60-2" title="2"><span class="co">## [1] 2</span></a>
<a class="sourceLine" id="cb60-3" title="3"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb60-4" title="4"><span class="co">## [1] 3</span></a></code></pre></div>
<p>但是在 <code>workflow</code> 环境下就失效了，提交了问题 <a href="https://github.com/jdblischak/workflowr/issues/153">Github Issue 153</a></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1"><span class="kw">library</span>(webshot)</a>
<a class="sourceLine" id="cb61-2" title="2"><span class="kw">webshot</span>(<span class="dt">url =</span> <span class="st">&quot;file:///D:/work/learn_rmd/docs/use-collapse.html&quot;</span>, <span class="dt">file =</span> <span class="st">&#39;collapse-fail-workflowr.png&#39;</span>)</a></code></pre></div>
<p><img src="cookbook_files/figure-html/unnamed-chunk-56-1.png" width="672" /></p>
</div>
</div>
<div id="use-r-chunk-option-child" class="section level1">
<h1><span class="header-section-number">35</span> Use R Chunk Option Child</h1>
<p>参考<a href="https://dr-harper.github.io/rmarkdown-cookbook/multi-file-documents.html">R Markdown Cookbook</a></p>
<blockquote>
<p>With larger R Markdown projects, it can be useful to split the document into smaller files which are easier to handle than a single, massive <code>'.Rmd</code> document. Also, we may also have generic components which we wish to use across all of our analyses, and rather than copying and pasting the same code across for each report.</p>
</blockquote>
<ol style="list-style-type: decimal">
<li>创建各个小的文档</li>
<li>不要重复粘贴代码</li>
</ol>
<p>这两点深得我心。</p>
<blockquote>
<p>There is a legacy of using child documents when creating longer documents, as bookdown was only released in 2016. As such, there is some confusion over which should be used when. In general, if you are wishing to reuse a component across multiple documents, it is recommended to use child documents. However, if you are wanting to write a book and split it into multiple files (preferably one per chapter), bookdown provides a lot of extra functionality and is generally preferred.</p>
</blockquote>
<p>child 这种方式非常好用，我可以尝试。
以下做测试。</p>
<p>这个问题在 workflowr 是一个问题，但是已经被解决。
<a href="https://github.com/jdblischak/workflowr/issues/111" class="uri">https://github.com/jdblischak/workflowr/issues/111</a></p>
<p>并且，可以利用 here::here 函数</p>
<pre class="r,child=here::here(&quot;zhenglianhu/06-02-topic-modeling-display.rmd&quot;)"><code></code></pre>
</div>
<div id="yaml-load" class="section level1">
<h1><span class="header-section-number">36</span> Yaml Load</h1>
<p>针对 yaml 的问题，我在<a href="https://stackoverflow.com/a/54283191/8625228">Stack Overflow</a>写了一个相关答案。</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" title="1"><span class="kw">library</span>(yaml)</a>
<a class="sourceLine" id="cb63-2" title="2"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb63-3" title="3"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb63-4" title="4"><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb63-5" title="5"><span class="st">---</span></a>
<a class="sourceLine" id="cb63-6" title="6"><span class="st">title: &#39;This is a title&#39;</span></a>
<a class="sourceLine" id="cb63-7" title="7"><span class="st">output: github_document</span></a>
<a class="sourceLine" id="cb63-8" title="8"><span class="st">---</span></a>
<a class="sourceLine" id="cb63-9" title="9"></a>
<a class="sourceLine" id="cb63-10" title="10"><span class="st">some content</span></a>
<a class="sourceLine" id="cb63-11" title="11"><span class="st">&quot;</span> <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb63-12" title="12"><span class="st">    </span><span class="kw">yaml.load</span>()</a></code></pre></div>
<pre><code>## $title
## [1] &quot;This is a title&quot;
## 
## $output
## [1] &quot;github_document&quot;</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" title="1">text &lt;-<span class="st"> &quot;</span></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="st">---</span></a>
<a class="sourceLine" id="cb65-3" title="3"><span class="st">title: &#39;This is a title&#39;</span></a>
<a class="sourceLine" id="cb65-4" title="4"><span class="st">output: github_document</span></a>
<a class="sourceLine" id="cb65-5" title="5"><span class="st">---</span></a>
<a class="sourceLine" id="cb65-6" title="6"></a>
<a class="sourceLine" id="cb65-7" title="7"><span class="st">some content</span></a>
<a class="sourceLine" id="cb65-8" title="8"><span class="st">some content: some content</span></a>
<a class="sourceLine" id="cb65-9" title="9"><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb65-10" title="10"><span class="kw">library</span>(xfun)</a>
<a class="sourceLine" id="cb65-11" title="11">yaml_content &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb65-12" title="12"><span class="st">    </span><span class="kw">read_lines</span>(text,<span class="dt">n_max =</span> <span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb65-13" title="13"><span class="st">    </span><span class="kw">yaml.load</span>()</a>
<a class="sourceLine" id="cb65-14" title="14">yaml_content</a></code></pre></div>
<pre><code>## $title
## [1] &quot;This is a title&quot;
## 
## $output
## [1] &quot;github_document&quot;</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1">yaml_content<span class="op">$</span>title</a></code></pre></div>
<pre><code>## [1] &quot;This is a title&quot;</code></pre>
<ol style="list-style-type: decimal">
<li>处理成 list 格式</li>
<li>忽略非 yaml 字段，如<code>some content</code></li>
</ol>
<p>但是当正文中含有 key-value pair 时，<code>yaml.load</code>会报错，因此需要限制 block 的行数。</p>
<pre><code>Error in yaml::yaml.load(.) : Scanner error: mapping values are not allowed in this context at line 18, column 7</code></pre>
<p>参考<a href="https://stackoverflow.com/a/52174427/8625228">Stack Overflow</a>，是因为<code>line 18</code>中<code>remote: Enumerating objects: 28, done.</code>出现了两个<code>:</code>，因此如何避免这种情况呢？选择第二个 <code>---</code>前的情况。</p>
</div>
<div id="nested-code-block" class="section level1">
<h1><span class="header-section-number">37</span> Nested Code Block</h1>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">xfun<span class="op">::</span><span class="kw">file_string</span>(<span class="st">&quot;../template/nested_code_block.Rmd&quot;</span>)</a></code></pre></div>
<pre><code>```{r echo=FALSE, results=&#39;asis&#39;}
gluedown::md_fence(
&quot;```{r out.width=c(&#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;), fig.show=&#39;hold&#39;}
library(magrittr)
boxplot(1:10)
plot(rnorm(10))
plot(rnorm(10))
plot(rnorm(10))
```&quot;, char = &quot;~&quot;, info = &quot;&quot;)
```</code></pre>
</div>
<div id="param-rmd" class="section level1">
<h1><span class="header-section-number">38</span> Param Rmd</h1>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1">xfun<span class="op">::</span><span class="kw">file_string</span>(<span class="st">&quot;../template/param-rmd.Rmd&quot;</span>)</a></code></pre></div>
<pre><code>---
title: &quot;参数化 RMarkdown 文档&quot;
author: &quot;Jiaxiang Li&quot;
date: &quot;2019-03-19&quot;
output: workflowr::wflow_html
---

[github](https://github.com/jenniferthompson/ParamRmdExample) 是一个 minimal example。
参考 [jla-data](https://www.jla-data.net/eng/parametrized-r-markdown-reports/) 和
[nsaunders](https://nsaunders.wordpress.com/2019/03/04/using-parameters-in-rmarkdown/)
在 yaml 模块，`#`可以作为评论记号，而不执行。

```{r}
library(rmarkdown)
suppressMessages(library(tidyverse))
species_list &lt;- iris$Species %&gt;% unique()
```

```{r}
args(render)
```

未成功。 
 
```{r eval=F}
library(glue)
species_list %&gt;% 
    map(~render(params = list(species = .)),
        input = &#39;rmd-template.Rmd&#39;,
        output_format = &#39;html_document&#39;,
        output_file = glue(&quot;{.}.html&quot;),
        output_dir = &#39;../output&#39;,
        quiet = T,
        encoding = &#39;UTF-8&#39;
        )
```

```{r eval=F}
library(rmarkdown)

flowers &lt;- unique(iris$Species) # setosa, versicolor, virginica - you know them all, don&#39;t you?

for (i in seq_along(flowers)) {
  myIris &lt;- flowers[i]  # my species - to be reused as 1) parameter &amp; 2) file name
  render(&quot;report-template.Rmd&quot;, # the template
          params = list(species = myIris), # value of myIris passed to the species parameter
          output_file = paste(myIris, &#39;.pdf&#39;, sep = &#39;&#39;), # name of the output file - species name and pdf extension
          quiet = T,
          encoding = &#39;UTF-8&#39;)
```

```
错误: Incomplete expression: 
for (i in seq_along(flowers)) {
  myIris &lt;- flowers[i]  # my species - to be reused as 1) parameter &amp; 2) file name
  render(&quot;report-template.Rmd&quot;, # the template
          # params = list(species = myIris), # value of myIris passed to the species parameter
          # output_file = paste(myIris, &#39;.pdf&#39;, sep = &#39;&#39;), # name of the output file - species name and pdf extension
          # quiet = T,
          encoding = &#39;UTF-8&#39;)
```


参考 [rmarkdown](https://rmarkdown.rstudio.com/lesson-6.html)

```{r eval=F}
render(&quot;5-parameters.Rmd&quot;, params = list(data = &quot;aleutians&quot;))
```

这样就非常方便

我突然想起来，这就是 DataExplorer 的实现方式。
因此只要 base 在 Rmd 模板进行编写就可以了。 

还可以 knit with params，有UI 这一步没有问题。

## 常见报错

```
Error: params object already exists in knit environment so can&#39;t be overwritten by render params
```

参考 [Stack Overflow](https://stackoverflow.com/a/32028424/8625228)
因为 `params` 这个对象该环境中已经有了，我更喜欢这个答案，参考[Stack Overflow](https://stackoverflow.com/a/42104149/8625228)

```{r eval=F}
rmarkdown::render(&quot;test.Rmd&quot;, params = list(name = &quot;Jordan&quot;), envir = new.env() )
```

```
&gt; source(&quot;R/load.R&quot;)
&gt; render(&quot;jd-template.Rmd&quot;,params = list(name = &#39;同学&#39;, email = &#39;example@example.com&#39;),
+        output_format = &#39;github_document&#39;,output_dir = &#39;test-person&#39;
+        )


processing file: jd-template.Rmd
  |......................                                           |  33%
   inline R code fragments

Quitting from lines 2-86 (jd-template.Rmd) 
Error in nchar(input) : invalid multibyte string, element 1
```

需要设置 `encoding = &#39;UTF-8&#39;`</code></pre>
</div>
<div id="rmd-template" class="section level1">
<h1><span class="header-section-number">39</span> Rmd Template</h1>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1">xfun<span class="op">::</span><span class="kw">file_string</span>(<span class="st">&quot;../template/rmd-template.Rmd&quot;</span>)</a></code></pre></div>
<pre><code>---
title: &quot;iris: `r params$species`&quot;
author: &quot;Jiaxiang Li&quot;
date: &quot;2019-03-19&quot;
output: github_document
params:
    species: &quot;setosa&quot; # 默认值
---

```{r}
suppressMessages(library(tidyverse))
iris %&gt;% 
    filter(Species == params$species)
```</code></pre>
</div>
<div id="自定义-comment-的符号" class="section level1">
<h1><span class="header-section-number">40</span> 自定义 comment 的符号</h1>
<p><code>{r comment=''}     print(1:5)</code></p>
<p><code>{r comment='##'}     print(1:5)</code></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1"><span class="kw">print</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</a></code></pre></div>
<pre><code>[1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1"><span class="kw">print</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>这样前面就没有<code>##</code>了。</p>
</div>
<div id="写" class="section level1">
<h1><span class="header-section-number">41</span> 写 <code>@</code></h1>
<p><code>\@LeiLei-Miao</code> 这样 render 的时候，就不会识别为 bibtex</p>
</div>
<div id="markdown-构建-table" class="section level1">
<h1><span class="header-section-number">42</span> markdown 构建 table</h1>
<div class="sourceCode" id="cb80"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb80-1" title="1">|                  |  mpg| cyl| disp|  hp| drat|    wt|  qsec| vs| am| gear| carb|</a>
<a class="sourceLine" id="cb80-2" title="2">|:-----------------|----:|---:|----:|---:|----:|-----:|-----:|--:|--:|----:|----:|</a>
<a class="sourceLine" id="cb80-3" title="3">|Mazda RX4         | 21.0|   6|  160| 110| 3.90| 2.620| 16.46|  0|  1|    4|    4|</a>
<a class="sourceLine" id="cb80-4" title="4">|Mazda RX4 Wag     | 21.0|   6|  160| 110| 3.90| 2.875| 17.02|  0|  1|    4|    4|</a>
<a class="sourceLine" id="cb80-5" title="5">|Datsun 710        | 22.8|   4|  108|  93| 3.85| 2.320| 18.61|  1|  1|    4|    1|</a>
<a class="sourceLine" id="cb80-6" title="6">|Hornet 4 Drive    | 21.4|   6|  258| 110| 3.08| 3.215| 19.44|  1|  0|    3|    1|</a>
<a class="sourceLine" id="cb80-7" title="7">|Hornet Sportabout | 18.7|   8|  360| 175| 3.15| 3.440| 17.02|  0|  0|    3|    2|</a>
<a class="sourceLine" id="cb80-8" title="8">|Valiant           | 18.1|   6|  225| 105| 2.76| 3.460| 20.22|  1|  0|    3|    1|</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Mazda RX4</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.620</td>
<td align="right">16.46</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Mazda RX4 Wag</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.875</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Datsun 710</td>
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.320</td>
<td align="right">18.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Hornet 4 Drive</td>
<td align="right">21.4</td>
<td align="right">6</td>
<td align="right">258</td>
<td align="right">110</td>
<td align="right">3.08</td>
<td align="right">3.215</td>
<td align="right">19.44</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Hornet Sportabout</td>
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Valiant</td>
<td align="right">18.1</td>
<td align="right">6</td>
<td align="right">225</td>
<td align="right">105</td>
<td align="right">2.76</td>
<td align="right">3.460</td>
<td align="right">20.22</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div id="data.frame-to-markdown-table" class="section level1">
<h1><span class="header-section-number">43</span> data.frame to markdown table</h1>
<p>例如表格</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb81-2" title="2">df &lt;-<span class="st"> </span>mtcars <span class="op">%&gt;%</span><span class="st"> </span>head</a>
<a class="sourceLine" id="cb81-3" title="3">df</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="st">&quot;markdown&quot;</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Mazda RX4</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.620</td>
<td align="right">16.46</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Mazda RX4 Wag</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.875</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Datsun 710</td>
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.320</td>
<td align="right">18.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Hornet 4 Drive</td>
<td align="right">21.4</td>
<td align="right">6</td>
<td align="right">258</td>
<td align="right">110</td>
<td align="right">3.08</td>
<td align="right">3.215</td>
<td align="right">19.44</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Hornet Sportabout</td>
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Valiant</td>
<td align="right">18.1</td>
<td align="right">6</td>
<td align="right">225</td>
<td align="right">105</td>
<td align="right">2.76</td>
<td align="right">3.460</td>
<td align="right">20.22</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>这样的表格展示出来就是 markdown 了。</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb83-1" title="1">|                  |  mpg| cyl| disp|  hp| drat|    wt|  qsec| vs| am| gear| carb|</a>
<a class="sourceLine" id="cb83-2" title="2">|:-----------------|----:|---:|----:|---:|----:|-----:|-----:|--:|--:|----:|----:|</a>
<a class="sourceLine" id="cb83-3" title="3">|Mazda RX4         | 21.0|   6|  160| 110| 3.90| 2.620| 16.46|  0|  1|    4|    4|</a>
<a class="sourceLine" id="cb83-4" title="4">|Mazda RX4 Wag     | 21.0|   6|  160| 110| 3.90| 2.875| 17.02|  0|  1|    4|    4|</a>
<a class="sourceLine" id="cb83-5" title="5">|Datsun 710        | 22.8|   4|  108|  93| 3.85| 2.320| 18.61|  1|  1|    4|    1|</a>
<a class="sourceLine" id="cb83-6" title="6">|Hornet 4 Drive    | 21.4|   6|  258| 110| 3.08| 3.215| 19.44|  1|  0|    3|    1|</a>
<a class="sourceLine" id="cb83-7" title="7">|Hornet Sportabout | 18.7|   8|  360| 175| 3.15| 3.440| 17.02|  0|  0|    3|    2|</a>
<a class="sourceLine" id="cb83-8" title="8">|Valiant           | 18.1|   6|  225| 105| 2.76| 3.460| 20.22|  1|  0|    3|    1|</a></code></pre></div>
<p>方便 markdown 往 word、HTML等格式转换。</p>
</div>
<div id="忽略报错" class="section level1">
<h1><span class="header-section-number">44</span> 忽略报错</h1>
<p>参考 <a href="https://stackoverflow.com/questions/34280043/how-to-skip-error-checking-at-rmarkdown-compiling" class="uri">https://stackoverflow.com/questions/34280043/how-to-skip-error-checking-at-rmarkdown-compiling</a></p>
<p>如果跑的时候想要忽略报错，或者要展示报错信息，可以加上<code>error=TRUE</code>。</p>
</div>
<div id="查看项目的-gitbook" class="section level1">
<h1><span class="header-section-number">45</span> 查看项目的 gitbook</h1>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" title="1">fs<span class="op">::</span><span class="kw">dir_ls</span>(</a>
<a class="sourceLine" id="cb84-2" title="2">    <span class="dt">recurse =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb84-3" title="3">    <span class="dt">regexp =</span> rebus<span class="op">::</span><span class="kw">or</span>(<span class="st">&quot;notes.Rmd$&quot;</span>, <span class="st">&quot;cookbook.Rmd$&quot;</span>)</a>
<a class="sourceLine" id="cb84-4" title="4">)</a></code></pre></div>
</div>
<div id="附录" class="section level1 unnumbered">
<h1>附录</h1>
</div>
<div id="参考文献" class="section level1 unnumbered">
<h1>参考文献</h1>
<div id="refs" class="references">
<div id="ref-Knuth1984">
<p>Knuth, Donald E. 1984. “Literate Programming.” <em>Literate Programming</em>, 1–15.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
