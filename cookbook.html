<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>RMarkdown Cookbook</title>
  <meta name="description" content="RMarkdown Cookbook" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="RMarkdown Cookbook" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="RMarkdown Cookbook" />
  
  
  

<meta name="author" content="李家翔" />


<meta name="date" content="2020-01-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path=""><a href="#fenced-code-blocks"><i class="fa fa-check"></i><b>1</b> Fenced code blocks</a></li>
<li class="chapter" data-level="2" data-path=""><a href="#嵌套引用"><i class="fa fa-check"></i><b>2</b> 嵌套引用</a></li>
<li class="chapter" data-level="3" data-path=""><a href="#github-star-badges"><i class="fa fa-check"></i><b>3</b> GitHub Star Badges</a></li>
<li class="chapter" data-level="4" data-path=""><a href="#内部链接功能"><i class="fa fa-check"></i><b>4</b> 内部链接功能</a></li>
<li class="chapter" data-level="5" data-path=""><a href="#html-tips"><i class="fa fa-check"></i><b>5</b> HTML Tips</a><ul>
<li class="chapter" data-level="5.1" data-path=""><a href="#skip-a-line"><i class="fa fa-check"></i><b>5.1</b> Skip a line</a></li>
<li class="chapter" data-level="5.2" data-path=""><a href="#center-an-image"><i class="fa fa-check"></i><b>5.2</b> Center an image</a></li>
<li class="chapter" data-level="5.3" data-path=""><a href="#white-space-around-img"><i class="fa fa-check"></i><b>5.3</b> White space around img</a></li>
<li class="chapter" data-level="5.4" data-path=""><a href="#footer-and-header"><i class="fa fa-check"></i><b>5.4</b> Footer and header</a></li>
<li class="chapter" data-level="5.5" data-path=""><a href="#figincol"><i class="fa fa-check"></i><b>5.5</b> figures in columns</a></li>
<li class="chapter" data-level="5.6" data-path=""><a href="#several-columns"><i class="fa fa-check"></i><b>5.6</b> Several columns</a></li>
<li class="chapter" data-level="5.7" data-path=""><a href="#hide-code"><i class="fa fa-check"></i><b>5.7</b> Hide code</a></li>
<li class="chapter" data-level="5.8" data-path=""><a href="#inlink"><i class="fa fa-check"></i><b>5.8</b> Internal link</a></li>
<li class="chapter" data-level="5.9" data-path=""><a href="#compile-in-a-website"><i class="fa fa-check"></i><b>5.9</b> Compile in a website</a></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#附录"><i class="fa fa-check"></i>附录</a></li>
<li class="chapter" data-level="" data-path=""><a href="#参考文献"><i class="fa fa-check"></i>参考文献</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">RMarkdown Cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">RMarkdown Cookbook</h1>
<p class="author"><em>李家翔</em></p>
<p class="date"><em>2020-01-28</em></p>
</div>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
<ol style="list-style-type: decimal">
<li>使用 RMarkdown 的 <code>child</code> 参数，进行文档拼接。</li>
<li>这样拼接以后的笔记方便复习。</li>
<li>相关问题提交到
<a class="github-button" href="https://github.com/JiaxiangBU/tutoring2/issues" data-show-count="true" aria-label="Issue JiaxiangBU/tutoring on GitHub">Issue</a></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<div id="fenced-code-blocks" class="section level1">
<h1><span class="header-section-number">1</span> Fenced code blocks</h1>
<p>参考 <a href="https://github.com/carwin/markdown-styleguide" class="uri">https://github.com/carwin/markdown-styleguide</a></p>
<pre><code>```
  - This list item contains a fenced code block.
  - Let&#39;s show how it might interact with a list.

    ```
    .code-example {
      property: value;
    }
    ```

There is a newline above this paragraph because it is both the end of a
list and because it follows a fenced code block.
```</code></pre>
</div>
<div id="嵌套引用" class="section level1">
<h1><span class="header-section-number">2</span> 嵌套引用</h1>
<p>要注意缩进。</p>
<pre><code>```
    ```
    
        ```
        1
        ```
    
    ```
```</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figure/nested_code_block.png&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-2"></span>
<img src="figure/nested_code_block.png" alt="否则 RStudio IDE 会错误识别。" width="530" />
<p class="caption">
Figure 2.1: 否则 RStudio IDE 会错误识别。
</p>
</div>
<p>第二种方法</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">readr<span class="op">::</span><span class="kw">read_file</span>(<span class="st">&quot;analysis/nested_code_block.Rmd&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>gluedown<span class="op">::</span><span class="kw">md_text</span>()</a></code></pre></div>
<pre><code>## ```{r echo=FALSE, results=&#39;asis&#39;}
## gluedown::md_fence(
## &quot;```{r out.width=c(&#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;), fig.show=&#39;hold&#39;}
## library(magrittr)
## boxplot(1:10)
## plot(rnorm(10))
## plot(rnorm(10))
## plot(rnorm(10))
## ```&quot;, char = &quot;~&quot;, info = &quot;&quot;)
## ```</code></pre>
</div>
<div id="github-star-badges" class="section level1">
<h1><span class="header-section-number">3</span> GitHub Star Badges</h1>
<p>参考 <a href="https://github.com/ddavison/github-badges">github</a></p>
<ol style="list-style-type: decimal">
<li>add 少量贡献包 <a href="https://github.com/dmlc/xgboost">Xgboost</a> <a href="https://github.com/dmlc/xgboost"><img src="http://githubbadges.com/star.svg?user=dmlc&amp;repo=xgboost" alt="star this repo" /></a></li>
<li>add 少量贡献包 <a href="https://github.com/haozhu233/kableExtra">kableExtra</a> <a href="https://github.com/haozhu233/kableExtra"><img src="http://githubbadges.com/star.svg?user=haozhu233&amp;repo=kableExtra" alt="star this repo" /></a></li>
</ol>
<p>在 notesdown 上面增加内容</p>
</div>
<div id="内部链接功能" class="section level1">
<h1><span class="header-section-number">4</span> 内部链接功能</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figure/redirection.png&quot;</span>)</a></code></pre></div>
<p><img src="figure/redirection.png" width="746" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figure/redirection_result.png&quot;</span>)</a></code></pre></div>
<p><img src="figure/redirection_result.png" width="387" /></p>
<p>这样就可以替代 印象笔记 的<a href="https://www.yinxiang.com/blog/blog/2018/06/01/evernote-note-link/">内部链接</a>功能。</p>
</div>
<div id="html-tips" class="section level1">
<h1><span class="header-section-number">5</span> HTML Tips</h1>
<div id="skip-a-line" class="section level2">
<h2><span class="header-section-number">5.1</span> Skip a line</h2>
<pre><code>A first sentence
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
A seconde sentence</code></pre>
<p>A first sentence
<br><br><br><br>
A seconde sentence</p>
</div>
<div id="center-an-image" class="section level2">
<h2><span class="header-section-number">5.2</span> Center an image</h2>
<pre><code>&lt;center&gt;
![FigName](logo_r_graph_gallery.jpg)
&lt;/center&gt;</code></pre>
<p>只需要略懂<code>&lt;&gt;</code>标记语言。</p>
</div>
<div id="white-space-around-img" class="section level2">
<h2><span class="header-section-number">5.3</span> White space around img</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;../analysis/collapse-fail-workflowr.png&quot;</span>)</a></code></pre></div>
<p><img src="../analysis/collapse-fail-workflowr.png" /><!-- --></p>
<p><code>fig.asp=5</code> 还不懂。</p>
</div>
<div id="footer-and-header" class="section level2">
<h2><span class="header-section-number">5.4</span> Footer and header</h2>
<pre><code>&amp;nbsp;
&lt;hr /&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;A work by &lt;a href=&quot;https://github.com/holtzy/&quot;&gt;Yan Holtz&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: #808080;&quot;&gt;&lt;em&gt;Yan.holtz.data@gmail.com&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;!-- Add icon library --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&quot;&gt;

&lt;!-- Add font awesome icons --&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;https://twitter.com/r_graph_gallery?lang=en&quot; class=&quot;fa fa-twitter&quot;&gt;&lt;/a&gt;
    &lt;a href=&quot;https://www.linkedin.com/in/yan-holtz-2477534a/&quot; class=&quot;fa fa-linkedin&quot;&gt;&lt;/a&gt;
    &lt;a href=&quot;https://github.com/holtzy/&quot; class=&quot;fa fa-github&quot;&gt;&lt;/a&gt;
&lt;/p&gt;

&amp;nbsp;</code></pre>
<p>但是会报错</p>
<p><a href="https://github.com/JiaxiangBU/learn_rmd/issues/1" class="uri">https://github.com/JiaxiangBU/learn_rmd/issues/1</a></p>
</div>
<div id="figincol" class="section level2">
<h2><span class="header-section-number">5.5</span> figures in columns</h2>
<pre><code>```{r out.width=c(&#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;, &#39;25%&#39;), fig.show=&#39;hold&#39;}
library(magrittr)
boxplot(1:10)
plot(rnorm(10))
plot(rnorm(10))
plot(rnorm(10))
```</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">boxplot</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb14-4" title="4"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb14-5" title="5"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>))</a></code></pre></div>
<p><img src="cookbook_files/figure-html/unnamed-chunk-10-1.png" width="25%" /><img src="cookbook_files/figure-html/unnamed-chunk-10-2.png" width="25%" /><img src="cookbook_files/figure-html/unnamed-chunk-10-3.png" width="25%" /><img src="cookbook_files/figure-html/unnamed-chunk-10-4.png" width="25%" /></p>
<p><a href="https://github.com/JiaxiangBU/learn_rmd/issues/2" class="uri">https://github.com/JiaxiangBU/learn_rmd/issues/2</a></p>
</div>
<div id="several-columns" class="section level2">
<h2><span class="header-section-number">5.6</span> Several columns</h2>
<p>感觉比 <a href="#figincol">figures in columns</a></p>
<div class="row">
<div class="col-md-4">
<p><br><br>Since R Markdown use the <a href="https://getbootstrap.com/docs/4.0/layout/grid/">bootstrap framework</a> under the hood. It is possible to benefit its powerful grid system. Basically, you can consider that your row is divided in 12 subunits of same width. You can then choose to use only a few of this subunits.</p>
</div>
<div class="col-md-4">
<p><br><br>Here, I use 3 subunits of size 4 (4x3=12). The last column is used for a plot. You can read more about the grid system <a href="bootstrap%20grid%20system">here</a>. I got this result showing the following code in my R Markdown document.</p>
</div>
<div class="col-md-4">
<p><code>{r, message=FALSE, echo=FALSE} ggplot( mtcars, aes(x=mpg)) + geom_histogram(fill="skyblue", alpha=0.5) + theme_minimal()</code></p>
</div>
</div>
<pre><code>&lt;div class = &quot;row&quot;&gt;
  
&lt;div class = &quot;col-md-4&quot;&gt;
&lt;br&gt;&lt;br&gt;Since R Markdown use the [bootstrap framework](https://getbootstrap.com/docs/4.0/layout/grid/) under the hood. It is possible to benefit its powerful grid system. Basically, you can consider that your row is divided in 12 subunits of same width. You can then choose to use only a few of this subunits.
&lt;/div&gt;
  
&lt;div class = &quot;col-md-4&quot;&gt;
&lt;br&gt;&lt;br&gt;Here, I use 3 subunits of size 4 (4x3=12). The last column is used for a plot. You can read more about the grid system [here](bootstrap grid system). I got this result showing the following code in my R Markdown document.
&lt;/div&gt;
  
&lt;div class = &quot;col-md-4&quot;&gt;
``{r, message=FALSE, echo=FALSE}
ggplot( mtcars, aes(x=mpg)) + geom_histogram(fill=&quot;skyblue&quot;, alpha=0.5) + theme_minimal()
``
&lt;/div&gt;
&lt;/div&gt;</code></pre>
<p><a href="https://github.com/JiaxiangBU/learn_rmd/issues/3" class="uri">https://github.com/JiaxiangBU/learn_rmd/issues/3</a></p>
</div>
<div id="hide-code" class="section level2">
<h2><span class="header-section-number">5.7</span> Hide code</h2>
<pre><code>output:
  html_document:
    code_folding: &quot;hide&quot;</code></pre>
<p>这算是给一个选择。</p>
</div>
<div id="inlink" class="section level2">
<h2><span class="header-section-number">5.8</span> Internal link</h2>
<p><a href="#skip-a-line">Skip a line</a></p>
</div>
<div id="compile-in-a-website" class="section level2">
<h2><span class="header-section-number">5.9</span> Compile in a website</h2>
<p><code>_site.yml</code> 其中的文字</p>
<pre><code>name: &quot;my-website&quot;
navbar:
  title: &quot;My Website&quot;
  left:
    - text: &quot;Home&quot;
      href: index.html
    - text: &quot;About&quot;
      href: about.html</code></pre>
<p>通过</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">rmarkdown<span class="op">::</span><span class="kw">render_site</span>()</a></code></pre></div>
<p>很快的建立了 有nav bar 的网站，workflowr 也是在这个基础上发展的。</p>
</div>
</div>
<div id="附录" class="section level1 unnumbered">
<h1>附录</h1>
</div>
<div id="参考文献" class="section level1 unnumbered">
<h1>参考文献</h1>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
